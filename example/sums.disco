foo : [N]+B -> N
foo x =
  { n     when x = inl (n :: _)
  { 0     when x = inl []
  { 1     when x = inr True
  { 2     when x = inr False